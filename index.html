<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="dark">
    <title>QR Grid</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
</head>
<body>
    <div class="app" id="app">
        <header id="header">
            <h1>QR <span>Grid</span></h1>
            <p>Generate QR codes with numbered grids for hand-drawing on graph paper.</p>
        </header>

        <div class="controls" id="controls">
            <div class="control-group grow">
                <label for="qr-input">Content</label>
                <input type="text" id="qr-input" placeholder="Enter text, URL, or any data…" autofocus>
            </div>
            <div class="control-group">
                <label for="ec-level">Error Correction</label>
                <select id="ec-level">
                    <option value="L">Low (7%)</option>
                    <option value="M" selected>Medium (15%)</option>
                    <option value="Q">Quartile (25%)</option>
                    <option value="H">High (30%)</option>
                </select>
            </div>
            <div class="control-group">
                <button id="generate-btn">Generate</button>
            </div>
        </div>

        <div class="info-bar hidden" id="info-bar">
            <div class="info-item">
                <span class="info-label">Size</span>
                <span class="info-value accent" id="info-size">—</span>
            </div>
            <div class="info-divider"></div>
            <div class="info-item">
                <span class="info-label">Modules</span>
                <span class="info-value" id="info-modules">—</span>
            </div>
            <div class="info-divider"></div>
            <div class="info-item">
                <span class="info-label">Version</span>
                <span class="info-value" id="info-version">—</span>
            </div>
            <div class="info-divider"></div>
            <div class="info-item">
                <span class="info-label">EC Level</span>
                <span class="info-value" id="info-ec">—</span>
            </div>
            <div class="info-divider"></div>
            <div class="info-item">
                <span class="info-label">Dark Cells</span>
                <span class="info-value" id="info-dark">—</span>
            </div>
            <div class="info-divider"></div>
            <div class="info-item">
                <span class="info-label">Light Cells</span>
                <span class="info-value" id="info-light">—</span>
            </div>
        </div>

        <div class="toolbar hidden" id="toolbar">
            <div class="zoom-controls">
                <button id="zoom-out" title="Zoom out">−</button>
                <span id="zoom-level">20px</span>
                <button id="zoom-in" title="Zoom in">+</button>
            </div>

            <label class="highlight-option" title="Highlight row/column on hover">
                <input type="checkbox" id="crosshair-toggle" checked>
                Crosshair
            </label>

            <label class="highlight-option" title="Color-code QR regions">
                <input type="checkbox" id="region-toggle">
                Show Regions
            </label>

            <div class="spacer"></div>

            <div class="coord-display" id="coord-display">
                <span class="coord-val">—</span>
            </div>

            <button class="btn-secondary" id="fullscreen-btn" title="Toggle fullscreen">Fullscreen</button>
            <button class="btn-secondary" id="export-btn" title="Download as PNG">Export PNG</button>
            <button class="btn-secondary" id="print-btn" title="Print the grid">Print</button>
        </div>

        <div class="qr-wrapper" id="qr-wrapper">
            <div class="empty-state" id="empty-state">
                <div class="icon">⬚</div>
                <p>Enter your content above and hit <strong>Generate</strong></p>
                <span class="hint">or press Enter</span>
            </div>
            <canvas id="qr-canvas" class="hidden"></canvas>
        </div>

        <div class="legend hidden" id="legend">
            <h3>Legend</h3>
            <div class="legend-grid" id="legend-grid"></div>
        </div>

        <div class="shortcuts" id="shortcuts">
            <span><kbd>Enter</kbd> Generate</span>
            <span><kbd>+</kbd> / <kbd>−</kbd> Zoom</span>
            <span><kbd>R</kbd> Regions</span>
            <span><kbd>C</kbd> Crosshair</span>
            <span><kbd>F</kbd> Fullscreen</span>
            <span><kbd>P</kbd> Print</span>
            <span><kbd>E</kbd> Export</span>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
